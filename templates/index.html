<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <script src="https://p.trellocdn.com/power-up.min.js"></script>
  <script>
    TrelloPowerUp.initialize({
      'card-buttons': function (t, options) {
        return [
          {
            icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVR4nO2YMUoDQRiFv0OoB5A9gjmAoGCVLjdIub1XMEUaU6ggHsBOC1NYObWFYCcKYiHkFCsDGxiDO5plmAz+74MHWzxm5+0/O//sQhpqoGm1iPiuA5+/7mIR+PzYxVAr6HdU0RW0dDdN/V/e0W3gHLjv0AQ4aDWM+Pykj4ARcBzxDYPxJhHfGbCVMuhV8IR/0izw7kR8PuCSUcTnx1gy++XelymDuoKD+rkp6LqoohhbuvN24l7jiG8a+KYR3zjwzUsK2mxQCtoHVRQjS/eQfHTt5graB/MVfWg/t3LoRu0lIa6A3VUHBjJU9BN4y6R3tZeEOB0YjJyMXoDHTHpSH02IK6Bfqo+SoaLPVt7RCiO7bkU+FJQMFf2wctZtCpCC9sF8Re+s/DOqyIfaCwlx1ivaFCAF7YMqipGlewGcZNKp+mhCnPX2sg/sZtJA7SUhroDdVQcGVNH1uS1giXbJf6cmY9D+oNp0qFW9Ant/SfAFi4Akg0pE4YMAAAAASUVORK5CYII=",
            text: "Summarize",
            callback: async function (t) {
              try {
                // Get the card's id and name, and display the alert
                const card = await t.card('id', 'name');
                
                
                // Fetch data from the JSONPlaceholder API
                const response = await fetch(`https://flask-production-330b.up.railway.app/process_card/${card.id}`);
                const data = await response.json();
  
                // Get the title of the post
                const message = data.message;
            
                
              } catch (error) {
                console.error('Error fetching data:', error);
              }
            }
          },
          {
            icon: "https://example.com/your-icon.png",
            text: "Show Card Info",
            callback: async function (t) {
              const card = await t.card('id', 'name');

              // Create a modal and display card info
              return t.modal({
                title: 'Card Info',
                url: `https://flask-production-330b.up.railway.app/modal/${card.id}`,
                fullscreen: false,
              });
            }
          }
        ];
      },
    });
  </script>
  </body>
</body>
</html>
